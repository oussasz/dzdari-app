(()=>{var e={};e.id=845,e.ids=[845],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},67096:e=>{"use strict";e.exports=require("bcrypt")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},55315:e=>{"use strict";e.exports=require("path")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},84098:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>c,routeModule:()=>x,tree:()=>u}),t(21240),t(1990),t(35866);var s=t(23191),i=t(88716),a=t(37922),n=t.n(a),o=t(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let u=["",{children:["offers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,21240)),"/home/oussasz/Project/Dz Dari/lugario/app/offers/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,1990)),"/home/oussasz/Project/Dz Dari/lugario/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/oussasz/Project/Dz Dari/lugario/app/offers/page.tsx"],d="/offers/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/offers/page",pathname:"/offers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},99081:(e,r,t)=>{Promise.resolve().then(t.bind(t,8825)),Promise.resolve().then(t.bind(t,54655)),Promise.resolve().then(t.bind(t,75675)),Promise.resolve().then(t.bind(t,1667)),Promise.resolve().then(t.bind(t,60337))},75675:(e,r,t)=>{"use strict";t.d(r,{default:()=>c});var s=t(10326),i=t(17577),a=t.n(i),n=t(94093),o=t(6162),l=t(54655);let u=(e,r,t,s)=>{let a=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let i=new IntersectionObserver(i=>{i[0].isIntersecting&&!t&&r&&!s&&e()},{root:null,rootMargin:"240px",threshold:.1});return a.current&&i.observe(a.current),()=>i.disconnect()},[r,s,t,e]),{ref:a}},c=({nextCursor:e,fnArgs:r,queryFn:t,queryKey:i,favorites:c})=>{let d=(0,o.T)("Errors"),{data:p,isFetchingNextPage:x,hasNextPage:g,status:m,fetchNextPage:h}=(0,n.N)({queryFn:({pageParam:s=e})=>t({...r,cursor:s}),queryKey:i,getNextPageParam:e=>e?.nextCursor}),{ref:f}=u(h,g,"loading"===m||x,"error"===m);return(0,s.jsxs)(s.Fragment,{children:[p?.pages.map((e,r)=>s.jsx(a().Fragment,{children:e?.listings?.map(e=>{let r=c.includes(e.id);return s.jsx(l.default,{data:e,hasFavorited:r,reservation:e?.reservation},e?.reservation?.id||e.id)})},r)),("loading"===m||x)&&s.jsx(s.Fragment,{children:Array.from({length:4}).map((e,r)=>s.jsx(l.T,{},r))}),"error"===m&&s.jsx("p",{className:"text-xl mt-8 text-center font-semibold",children:d("somethingWentWrong")}),s.jsx("div",{ref:f})]})}},21240:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g,dynamic:()=>x});var s=t(19510),i=t(71159),a=t(79687),n=t(16757),o=t(71539),l=t(77808),u=t(36210),c=t(22818),d=t(41183),p=t(31022);let x="force-dynamic",g=async({searchParams:e})=>{let r=await (0,p.Z)("Pages.offers"),{listings:t,nextCursor:x}=await (0,c.getListings)(e),g=await (0,d.getFavorites)();return s.jsx("section",{className:"bg-white",children:(0,s.jsxs)("div",{className:"main-container py-10 md:py-14",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[s.jsx(i.Suspense,{fallback:s.jsx(s.Fragment,{}),children:s.jsx(l.Z,{})}),s.jsx(i.Suspense,{fallback:s.jsx(s.Fragment,{}),children:s.jsx(u.Z,{})})]}),t&&0!==t.length?(0,s.jsxs)("div",{className:"pt-6 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 lg:gap-8",children:[t.map(e=>{let r=g.includes(e.id);return s.jsx(a.Z,{data:e,hasFavorited:r},e.id)}),x?s.jsx(i.Suspense,{fallback:s.jsx(s.Fragment,{}),children:s.jsx(n.Z,{nextCursor:x,fnArgs:e,queryFn:c.getListings,queryKey:["listings",e],favorites:g})}):null]}):s.jsx("div",{className:"pt-6",children:s.jsx(o.Z,{title:r("noListingsTitle"),subtitle:r("noListingsSubtitle")})})]})})}},16757:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(68570).createProxy)(String.raw`/home/oussasz/Project/Dz Dari/lugario/components/LoadMore.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,83,443,76,882,879,221,956,364,93,989,947,787,454],()=>t(84098));module.exports=s})();