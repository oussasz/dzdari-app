(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{10762:function(e,n,s){Promise.resolve().then(s.t.bind(s,47960,23)),Promise.resolve().then(s.bind(s,69479)),Promise.resolve().then(s.bind(s,79045)),Promise.resolve().then(s.bind(s,28752)),Promise.resolve().then(s.bind(s,14888)),Promise.resolve().then(s.bind(s,98087)),Promise.resolve().then(s.bind(s,47239)),Promise.resolve().then(s.bind(s,79441)),Promise.resolve().then(s.t.bind(s,65878,23)),Promise.resolve().then(s.t.bind(s,72972,23)),Promise.resolve().then(s.t.bind(s,88003,23)),Promise.resolve().then(s.t.bind(s,92119,23))},48520:function(e,n,s){"use strict";var t=s(57437);s(2265);var r=s(33145);n.Z=e=>{let{src:n}=e;return(0,t.jsx)(r.default,{className:"rounded-full select-none",height:"28",width:"28",alt:"Avatar",src:n||"/images/placeholder.jpg",unoptimized:!0})}},28752:function(e,n,s){"use strict";var t=s(57437);s(2265);var r=s(53160),i=s(39693),l=s(69064),a=s(80605);let o=new r.S({defaultOptions:{queries:{staleTime:6e4}}});n.default=e=>{let{children:n}=e;return(0,t.jsx)(i.aH,{client:o,children:(0,t.jsxs)(a.SessionProvider,{children:[(0,t.jsx)(l.x7,{position:"bottom-right"}),n]})})}},69479:function(e,n,s){"use strict";s.d(n,{default:function(){return r}});var t=s(2265);function r(){return(0,t.useEffect)(()=>{let e=document.getElementById("site-header");if(!e)return;let n=()=>{let n=e.getBoundingClientRect().height;document.documentElement.style.setProperty("--site-header-height","".concat(n,"px"))};n();let s=new ResizeObserver(()=>{n()});return s.observe(e),window.addEventListener("resize",n),window.addEventListener("orientationchange",n),()=>{s.disconnect(),window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)}},[]),null}},79045:function(e,n,s){"use strict";s.d(n,{default:function(){return Z}});var t=s(57437),r=s(2265),i=s(48053),l=s(99376),a=s(80605),o=s(69234),c=s(38706),d=s(48520),u=s(78076),m=e=>{let{label:n,onClick:s}=e;return(0,t.jsx)(u.Z.Button,{className:" hover:bg-neutral-100 transition font-semibold select-none",onClick:s,children:n})},x=s(12685),h=s(71151),g=s(83871),p=s(29501),j=s(69064),b=s(25125),f=s(73352),v=s(25523),w=s(57212);s(83079);var N=(0,s(12119).$)("d43d4493005236cb5219abd8b6f97fe8c9759f39"),y=e=>{let{name:n,onCloseModal:s}=e,i=(0,c.T)("Auth"),o=(0,c.T)("Menu"),[d,u]=(0,r.useTransition)(),[m,x]=(0,r.useState)("Sign up"===n?"signup":"login"),{register:y,handleSubmit:Z,watch:k,formState:{errors:T},reset:P,setError:C,setFocus:E}=(0,p.cI)({defaultValues:{email:"",password:"",name:""}}),_=(0,l.useRouter)(),S="login"===m,I=o(S?"logIn":"signUp");return(0,r.useEffect)(()=>{let e=setTimeout(()=>{S?E("email"):E("name")},300);return()=>clearTimeout(e)},[S,E]),(0,t.jsxs)("div",{className:"h-full w-full",children:[(0,t.jsx)(h.Z.WindowHeader,{title:I}),(0,t.jsxs)("form",{className:"flex flex-col gap-5 p-6 pb-0 w-full h-full",onSubmit:Z(e=>{let{email:n,password:t,name:r}=e;u(async()=>{try{if(S){let e=await (0,a.signIn)("credentials",{email:n,password:t,redirect:!1});if(null==e?void 0:e.error)throw Error(e.error);(null==e?void 0:e.ok)&&(j.ZP.success(i("loggedIn")),null==s||s(),_.refresh())}else await N({email:n,password:t,name:r}),x("login"),j.ZP.success(i("registered")),P()}catch(e){j.ZP.error(e.message),S&&(P(),C("email",{}),C("password",{}),setTimeout(()=>{E("email")},100))}})}),children:[(0,t.jsx)(b.Z,{title:S?i("welcomeBack"):i("welcomeTo"),subtitle:S?i("loginToAccount"):i("createAccount")}),!S&&(0,t.jsx)(f.Z,{id:"name",label:i("name"),disabled:d,register:y,errors:T,required:!0,watch:k}),(0,t.jsx)(f.Z,{id:"email",label:i("email"),disabled:d,register:y,errors:T,required:!0,watch:k}),(0,t.jsx)(f.Z,{id:"password",label:i("password"),type:"password",disabled:d,register:y,errors:T,required:!0,watch:k}),(0,t.jsx)(v.Z,{type:"submit",className:"flex items-center justify-center h-[42px]",children:d?(0,t.jsx)(w.Z,{className:"w-5 h-5"}):i("continue")})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 mt-3 p-6 pt-0",children:[(0,t.jsx)("hr",{}),(0,t.jsxs)(v.Z,{outline:!0,onClick:()=>(0,a.signIn)("google"),className:"flex flex-row justify-center gap-2 items-center px-3 py-2",children:[(0,t.jsx)(g.JM8,{className:"w-6 h-6"}),(0,t.jsx)("span",{className:"text-[14px]",children:i("continueWithGoogle")})]}),(0,t.jsx)("div",{className:"   text-neutral-500    text-center    mt-2    font-light   ",children:(0,t.jsxs)("div",{className:"text-[15px]",children:[(0,t.jsx)("small",{className:"text-[15px]",children:S?i("firstTime"):i("alreadyHaveAccount")}),(0,t.jsx)("button",{type:"button",onClick:()=>{x(S?"signup":"login"),P()},className:"   text-neutral-800   cursor-pointer    hover:underline   ml-1   font-medium   ",children:S?i("createAnAccount"):o("logIn")})]})})]})]})},Z=e=>{let{user:n}=e,s=(0,l.useRouter)(),r=(0,o.bU)(),g=(0,c.T)("Menu"),p=(0,c.T)("Navbar"),j=(0,c.T)("Language"),b=e=>{s.push(e)},f=async e=>{e!==r&&(await fetch("/api/locale",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({locale:e})}),s.refresh())};return(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("div",{className:"flex flex-row items-center gap-3",children:(0,t.jsxs)(h.Z,{children:[(0,t.jsx)(h.Z.Trigger,{name:n?"share":"login",children:(0,t.jsx)("button",{type:"button",className:"hidden md:block text-sm font-bold py-3 px-4 rounded-full hover:bg-neutral-100 transition cursor-pointer text-[#585858]",children:p("shareHome")})}),(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(u.Z.Toggle,{id:"user-menu",children:(0,t.jsxs)("button",{type:"button",className:" p-4 md:py-1 md:px-2 border-[1px]   border-neutral-200  flex  flex-row  items-center   gap-3   rounded-full   cursor-pointer   hover:shadow-md   transition duration-300",children:[(0,t.jsx)(i.qTj,{}),(0,t.jsx)("div",{className:"hidden md:block",children:(0,t.jsx)(d.Z,{src:null==n?void 0:n.image})})]})}),(0,t.jsx)(u.Z.List,{className:"shadow-[0_0_36px_4px_rgba(0,0,0,0.075)] rounded-xl bg-white text-sm",children:n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m,{label:g("myTrips"),onClick:()=>b("/trips")}),(0,t.jsx)(m,{label:g("myFavorites"),onClick:()=>b("/favorites")}),(0,t.jsx)(m,{label:g("myReservations"),onClick:()=>b("/reservations")}),(0,t.jsx)(m,{label:g("myProperties"),onClick:()=>b("/properties")}),(0,t.jsx)(h.Z.Trigger,{name:"share",children:(0,t.jsx)(m,{label:p("shareHome")})}),(0,t.jsx)("hr",{}),(0,t.jsx)(m,{label:g("logOut"),onClick:a.signOut}),(0,t.jsx)("hr",{}),(0,t.jsx)("div",{className:"px-4 py-2 text-[11px] font-semibold text-neutral-500",children:j("label")}),(0,t.jsx)(m,{label:"".concat("en"===r?"✓ ":"").concat(j("english")),onClick:()=>f("en")}),(0,t.jsx)(m,{label:"".concat("fr"===r?"✓ ":"").concat(j("french")),onClick:()=>f("fr")}),(0,t.jsx)(m,{label:"".concat("ar"===r?"✓ ":"").concat(j("arabic")),onClick:()=>f("ar")})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Z.Trigger,{name:"login",children:(0,t.jsx)(m,{label:g("logIn")})}),(0,t.jsx)(h.Z.Trigger,{name:"signup",children:(0,t.jsx)(m,{label:g("signUp")})}),(0,t.jsx)("hr",{}),(0,t.jsx)("div",{className:"px-4 py-2 text-[11px] font-semibold text-neutral-500",children:j("label")}),(0,t.jsx)(m,{label:"".concat("en"===r?"✓ ":"").concat(j("english")),onClick:()=>f("en")}),(0,t.jsx)(m,{label:"".concat("fr"===r?"✓ ":"").concat(j("french")),onClick:()=>f("fr")}),(0,t.jsx)(m,{label:"".concat("ar"===r?"✓ ":"").concat(j("arabic")),onClick:()=>f("ar")})]})})]}),(0,t.jsx)(h.Z.Window,{name:"login",children:(0,t.jsx)(y,{name:"Login"})}),(0,t.jsx)(h.Z.Window,{name:"signup",children:(0,t.jsx)(y,{name:"Sign up"})}),(0,t.jsx)(h.Z.Window,{name:"share",children:(0,t.jsx)(x.Z,{})})]})})})}},47960:function(){}},function(e){e.O(0,[719,582,420,115,712,465,400,82,462,275,558,384,971,117,744],function(){return e(e.s=10762)}),_N_E=e.O()}]);