(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{11543:function(e,t,n){Promise.resolve().then(n.t.bind(n,47960,23)),Promise.resolve().then(n.bind(n,40780)),Promise.resolve().then(n.bind(n,69479)),Promise.resolve().then(n.bind(n,78107)),Promise.resolve().then(n.bind(n,79045)),Promise.resolve().then(n.bind(n,28752)),Promise.resolve().then(n.bind(n,14888)),Promise.resolve().then(n.bind(n,98087)),Promise.resolve().then(n.bind(n,47239)),Promise.resolve().then(n.bind(n,79441)),Promise.resolve().then(n.t.bind(n,65878,23)),Promise.resolve().then(n.t.bind(n,72972,23)),Promise.resolve().then(n.t.bind(n,88003,23)),Promise.resolve().then(n.t.bind(n,92119,23))},48520:function(e,t,n){"use strict";var l=n(57437);n(2265);var s=n(33145);t.Z=e=>{let{src:t}=e;return(0,l.jsx)(s.default,{className:"rounded-full select-none",height:"28",width:"28",alt:"Avatar",src:t||"/images/placeholder.jpg",unoptimized:!0})}},28752:function(e,t,n){"use strict";var l=n(57437);n(2265);var s=n(53160),r=n(39693),a=n(69064),i=n(80605);let o=new s.S({defaultOptions:{queries:{staleTime:6e4}}});t.default=e=>{let{children:t}=e;return(0,l.jsx)(r.aH,{client:o,children:(0,l.jsxs)(i.SessionProvider,{children:[(0,l.jsx)(a.x7,{position:"bottom-right"}),t]})})}},40780:function(e,t,n){"use strict";n.d(t,{default:function(){return h}});var l=n(57437),s=n(2265),r=n(99376),a=n(19764),i=n(73377),o=n(79118),c=n.n(o);n(7354),n(35217);var d=n(38706),u=n(78062),m=e=>{let{icon:t,label:n,displayLabel:s,selected:a,queryKey:i="category"}=e,o=(0,r.useRouter)(),c=(0,r.useSearchParams)();return(0,l.jsxs)("button",{type:"button",onClick:()=>{let e={};c&&(e=u.Z.parse(c.toString()));let t=e[i],l=Array.isArray(t)?t:"string"==typeof t?[t]:[],s=l.includes(n)?l.filter(e=>e!==n):[...l,n],r={...e,[i]:s.length?s:void 0};s.length||delete r[i];let a=u.Z.stringifyUrl({url:"/",query:r},{skipNull:!0});o.push(a)},className:" flex  flex-col max-w-fit  items-center  justify-center  gap-2 p-2 border-b-2  hover:text-neutral-800 transition cursor-pointer text-[20px] md:text-[24px] ".concat(a?"border-b-[#fd6d6c] text-[#fd6d6c]":"border-transparent text-neutral-500"),children:[(0,l.jsx)(t,{}),(0,l.jsx)("small",{className:"font-medium md:text-[13.75px] text-[12.75px] select-none",children:null!=s?s:n})]})},x=n(21099),h=()=>{var e,t,n;let o=(0,d.T)("Categories"),u=(0,d.T)("DurationOptions"),h=(0,d.T)("PurposeOptions"),p=(0,d.T)("FeatureOptions"),[b,f]=(0,s.useState)(!1),[g,v]=(0,s.useState)(!1),j=(0,s.useRef)(null),w=(0,s.useRef)(!1),y=(0,r.useSearchParams)(),N=(0,r.usePathname)(),Z=null!==(e=null==y?void 0:y.getAll("category"))&&void 0!==e?e:[],k=null!==(t=null==y?void 0:y.getAll("duration"))&&void 0!==t?t:[],P=null!==(n=null==y?void 0:y.getAll("feature"))&&void 0!==n?n:[];return((0,s.useEffect)(()=>{let e=c()(()=>{window.scrollY>0?f(!0):f(!1)},150);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,s.useEffect)(()=>{var e,t,n,l,s,r;let a=null===(t=(n=window).matchMedia)||void 0===t?void 0:null===(e=t.call(n,"(prefers-reduced-motion: reduce)"))||void 0===e?void 0:e.matches;v(!!((null===(s=(r=window).matchMedia)||void 0===s?void 0:null===(l=s.call(r,"(min-width: 768px)"))||void 0===l?void 0:l.matches)&&!a))},[]),"/"!==N)?null:(0,l.jsx)("div",{className:" ".concat(b?"shadow-md shadow-[rgba(0,0,0,.045)]":""," transition-all duration-150"),children:(0,l.jsxs)(a.tq,{slidesPerView:"auto",freeMode:{enabled:!0,momentum:!0,momentumRatio:.85,momentumBounce:!0},resistanceRatio:.6,threshold:5,passiveListeners:!0,touchStartPreventDefault:!1,touchReleaseOnEdges:!0,rewind:!0,speed:g?9e3:250,autoplay:!!g&&{delay:0,disableOnInteraction:!0,pauseOnMouseEnter:!0},scrollbar:{draggable:!0,hide:!1},modules:[i.pt,i.Rv,i.LW],pagination:{clickable:!0},onSwiper:e=>{if(j.current=e,!g)return;let t=()=>{var t,n;return null===(n=e.autoplay)||void 0===n?void 0:null===(t=n.stop)||void 0===t?void 0:t.call(n)},n=()=>{var t,n;return null===(n=e.autoplay)||void 0===n?void 0:null===(t=n.start)||void 0===t?void 0:t.call(n)};e.on("touchStart",()=>{w.current=!0,t()}),e.on("touchEnd",()=>{w.current=!1,window.setTimeout(()=>{w.current||n()},600)}),e.on("scrollbarDragStart",t),e.on("scrollbarDragEnd",()=>window.setTimeout(n,300))},className:"categories-ribbon-swiper main-container mt-2 lg:!px-3 !px-2 pb-6 touch-pan-x select-none",children:[(0,l.jsx)(a.o5,{className:"max-w-fit",children:(0,l.jsx)("div",{className:"px-3 py-2 text-xs font-semibold text-neutral-500 select-none",children:o("duration")})},"group-duration"),x.z3.map(e=>(0,l.jsx)(a.o5,{className:"max-w-fit",children:(0,l.jsx)(m,{label:e.label,displayLabel:u("".concat(e.id,".label")),icon:e.icon,queryKey:"duration",selected:k.includes(e.label)})},"duration-".concat(e.label))),(0,l.jsx)(a.o5,{className:"max-w-fit",children:(0,l.jsx)("div",{className:"h-8 w-px bg-neutral-200 my-2 mx-2"})},"divider-1"),(0,l.jsx)(a.o5,{className:"max-w-fit",children:(0,l.jsx)("div",{className:"px-3 py-2 text-xs font-semibold text-neutral-500 select-none",children:o("purpose")})},"group-purpose"),x.KP.map(e=>(0,l.jsx)(a.o5,{className:"max-w-fit",children:(0,l.jsx)(m,{label:e.label,displayLabel:h("".concat(e.id,".label")),icon:e.icon,queryKey:"category",selected:Z.includes(e.label)})},"purpose-".concat(e.label))),(0,l.jsx)(a.o5,{className:"max-w-fit",children:(0,l.jsx)("div",{className:"h-8 w-px bg-neutral-200 my-2 mx-2"})},"divider-2"),(0,l.jsx)(a.o5,{className:"max-w-fit",children:(0,l.jsx)("div",{className:"px-3 py-2 text-xs font-semibold text-neutral-500 select-none",children:o("features")})},"group-features"),x.W$.map(e=>(0,l.jsx)(a.o5,{className:"max-w-fit",children:(0,l.jsx)(m,{label:e.label,displayLabel:p("".concat(e.id,".label")),icon:e.icon,queryKey:"feature",selected:P.includes(e.label)})},"feature-".concat(e.label)))]})})}},69479:function(e,t,n){"use strict";n.d(t,{default:function(){return s}});var l=n(2265);function s(){return(0,l.useEffect)(()=>{let e=document.getElementById("site-header");if(!e)return;let t=()=>{let t=e.getBoundingClientRect().height;document.documentElement.style.setProperty("--site-header-height","".concat(t,"px"))};t();let n=new ResizeObserver(()=>{t()});return n.observe(e),window.addEventListener("resize",t),window.addEventListener("orientationchange",t),()=>{n.disconnect(),window.removeEventListener("resize",t),window.removeEventListener("orientationchange",t)}},[]),null}},78107:function(e,t,n){"use strict";var l=n(57437),s=n(2265),r=n(30166),a=n(31303),i=n(99376),o=n(5674),c=n(38706),d=n(71151);let u=(0,r.default)(()=>n.e(378).then(n.bind(n,46378)),{loadableGenerated:{webpack:()=>[46378]},ssr:!1});t.default=()=>{let e=(0,c.T)("Search"),t=(0,i.useSearchParams)(),n=null==t?void 0:t.get("country"),r=null==t?void 0:t.get("region"),m=null==t?void 0:t.get("municipality"),x=null==t?void 0:t.get("startDate"),h=null==t?void 0:t.get("endDate"),p=null==t?void 0:t.get("guestCount"),b=(0,s.useMemo)(()=>{if(x&&h){let t=new Date(x),n=new Date(h),l=(0,a.j)(n,t);return 0===l&&(l=1),e("days",{count:l})}return e("anyWeek")},[h,x,e]),f=p?e("guests",{count:Number(p)}):e("addGuests");return(0,l.jsxs)(d.Z,{children:[(0,l.jsx)(d.Z.Trigger,{name:"search",children:(0,l.jsx)("button",{type:"button",className:"border-[1px] w-full md:w-auto py-2 rounded-full shadow-sm hover:shadow-md transition duration-300 cursor-pointer",children:(0,l.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,l.jsx)("small",{className:"text-sm font-bold px-6 text-[#585858]",children:m||r||n||e("anywhere")}),(0,l.jsx)("small",{className:"hidden sm:block text-sm font-bold px-6 border-x-[1px] flex-1 text-center text-[#585858]",children:b}),(0,l.jsxs)("div",{className:"text-sm pl-6 pr-2 text-gray-600 flex flex-row items-center gap-4",children:[(0,l.jsx)("small",{className:"hidden sm:block font-normal text-sm",children:f}),(0,l.jsx)("div",{className:"p-2  bg-rose-500 rounded-full  text-white",children:(0,l.jsx)(o.U41,{className:"text-[12px] "})})]})]})})}),(0,l.jsx)(d.Z.Window,{name:"search",children:(0,l.jsx)(u,{})})]})}},79045:function(e,t,n){"use strict";n.d(t,{default:function(){return Z}});var l=n(57437),s=n(2265),r=n(48053),a=n(99376),i=n(80605),o=n(69234),c=n(38706),d=n(48520),u=n(78076),m=e=>{let{label:t,onClick:n}=e;return(0,l.jsx)(u.Z.Button,{className:" hover:bg-neutral-100 transition font-semibold select-none",onClick:n,children:t})},x=n(48673),h=n(71151),p=n(83871),b=n(29501),f=n(69064),g=n(25125),v=n(73352),j=n(64392),w=n(57212);n(83079);var y=(0,n(12119).$)("d43d4493005236cb5219abd8b6f97fe8c9759f39"),N=e=>{let{name:t,onCloseModal:n}=e,r=(0,c.T)("Auth"),o=(0,c.T)("Menu"),[d,u]=(0,s.useTransition)(),[m,x]=(0,s.useState)("Sign up"===t?"signup":"login"),{register:N,handleSubmit:Z,watch:k,formState:{errors:P},reset:T,setError:C,setFocus:E}=(0,b.cI)({defaultValues:{email:"",password:"",name:""}}),S=(0,a.useRouter)(),L="login"===m,O=o(L?"logIn":"signUp");return(0,s.useEffect)(()=>{let e=setTimeout(()=>{L?E("email"):E("name")},300);return()=>clearTimeout(e)},[L,E]),(0,l.jsxs)("div",{className:"h-full w-full",children:[(0,l.jsx)(h.Z.WindowHeader,{title:O}),(0,l.jsxs)("form",{className:"flex flex-col gap-5 p-6 pb-0 w-full h-full",onSubmit:Z(e=>{let{email:t,password:l,name:s}=e;u(async()=>{try{if(L){let e=await (0,i.signIn)("credentials",{email:t,password:l,redirect:!1});if(null==e?void 0:e.error)throw Error(e.error);(null==e?void 0:e.ok)&&(f.ZP.success(r("loggedIn")),null==n||n(),S.refresh())}else await y({email:t,password:l,name:s}),x("login"),f.ZP.success(r("registered")),T()}catch(e){f.ZP.error(e.message),L&&(T(),C("email",{}),C("password",{}),setTimeout(()=>{E("email")},100))}})}),children:[(0,l.jsx)(g.Z,{title:L?r("welcomeBack"):r("welcomeTo"),subtitle:L?r("loginToAccount"):r("createAccount")}),!L&&(0,l.jsx)(v.Z,{id:"name",label:r("name"),disabled:d,register:N,errors:P,required:!0,watch:k}),(0,l.jsx)(v.Z,{id:"email",label:r("email"),disabled:d,register:N,errors:P,required:!0,watch:k}),(0,l.jsx)(v.Z,{id:"password",label:r("password"),type:"password",disabled:d,register:N,errors:P,required:!0,watch:k}),(0,l.jsx)(j.Z,{type:"submit",className:"flex items-center justify-center h-[42px]",children:d?(0,l.jsx)(w.Z,{className:"w-5 h-5"}):r("continue")})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-4 mt-3 p-6 pt-0",children:[(0,l.jsx)("hr",{}),(0,l.jsxs)(j.Z,{outline:!0,onClick:()=>(0,i.signIn)("google"),className:"flex flex-row justify-center gap-2 items-center px-3 py-2",children:[(0,l.jsx)(p.JM8,{className:"w-6 h-6"}),(0,l.jsx)("span",{className:"text-[14px]",children:r("continueWithGoogle")})]}),(0,l.jsx)("div",{className:"   text-neutral-500    text-center    mt-2    font-light   ",children:(0,l.jsxs)("div",{className:"text-[15px]",children:[(0,l.jsx)("small",{className:"text-[15px]",children:L?r("firstTime"):r("alreadyHaveAccount")}),(0,l.jsx)("button",{type:"button",onClick:()=>{x(L?"signup":"login"),T()},className:"   text-neutral-800   cursor-pointer    hover:underline   ml-1   font-medium   ",children:L?r("createAnAccount"):o("logIn")})]})})]})]})},Z=e=>{let{user:t}=e,n=(0,a.useRouter)(),s=(0,o.bU)(),p=(0,c.T)("Menu"),b=(0,c.T)("Navbar"),f=(0,c.T)("Language"),g=e=>{n.push(e)},v=async e=>{e!==s&&(await fetch("/api/locale",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({locale:e})}),n.refresh())};return(0,l.jsx)("div",{className:"relative",children:(0,l.jsx)("div",{className:"flex flex-row items-center gap-3",children:(0,l.jsxs)(h.Z,{children:[(0,l.jsx)(h.Z.Trigger,{name:t?"share":"login",children:(0,l.jsx)("button",{type:"button",className:"hidden md:block text-sm font-bold py-3 px-4 rounded-full hover:bg-neutral-100 transition cursor-pointer text-[#585858]",children:b("shareHome")})}),(0,l.jsxs)(u.Z,{children:[(0,l.jsx)(u.Z.Toggle,{id:"user-menu",children:(0,l.jsxs)("button",{type:"button",className:" p-4 md:py-1 md:px-2 border-[1px]   border-neutral-200  flex  flex-row  items-center   gap-3   rounded-full   cursor-pointer   hover:shadow-md   transition duration-300",children:[(0,l.jsx)(r.qTj,{}),(0,l.jsx)("div",{className:"hidden md:block",children:(0,l.jsx)(d.Z,{src:null==t?void 0:t.image})})]})}),(0,l.jsx)(u.Z.List,{className:"shadow-[0_0_36px_4px_rgba(0,0,0,0.075)] rounded-xl bg-white text-sm",children:t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(m,{label:p("myTrips"),onClick:()=>g("/trips")}),(0,l.jsx)(m,{label:p("myFavorites"),onClick:()=>g("/favorites")}),(0,l.jsx)(m,{label:p("myReservations"),onClick:()=>g("/reservations")}),(0,l.jsx)(m,{label:p("myProperties"),onClick:()=>g("/properties")}),(0,l.jsx)(h.Z.Trigger,{name:"share",children:(0,l.jsx)(m,{label:b("shareHome")})}),(0,l.jsx)("hr",{}),(0,l.jsx)(m,{label:p("logOut"),onClick:i.signOut}),(0,l.jsx)("hr",{}),(0,l.jsx)("div",{className:"px-4 py-2 text-[11px] font-semibold text-neutral-500",children:f("label")}),(0,l.jsx)(m,{label:"".concat("en"===s?"✓ ":"").concat(f("english")),onClick:()=>v("en")}),(0,l.jsx)(m,{label:"".concat("fr"===s?"✓ ":"").concat(f("french")),onClick:()=>v("fr")}),(0,l.jsx)(m,{label:"".concat("ar"===s?"✓ ":"").concat(f("arabic")),onClick:()=>v("ar")})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.Z.Trigger,{name:"login",children:(0,l.jsx)(m,{label:p("logIn")})}),(0,l.jsx)(h.Z.Trigger,{name:"signup",children:(0,l.jsx)(m,{label:p("signUp")})}),(0,l.jsx)("hr",{}),(0,l.jsx)("div",{className:"px-4 py-2 text-[11px] font-semibold text-neutral-500",children:f("label")}),(0,l.jsx)(m,{label:"".concat("en"===s?"✓ ":"").concat(f("english")),onClick:()=>v("en")}),(0,l.jsx)(m,{label:"".concat("fr"===s?"✓ ":"").concat(f("french")),onClick:()=>v("fr")}),(0,l.jsx)(m,{label:"".concat("ar"===s?"✓ ":"").concat(f("arabic")),onClick:()=>v("ar")})]})})]}),(0,l.jsx)(h.Z.Window,{name:"login",children:(0,l.jsx)(N,{name:"Login"})}),(0,l.jsx)(h.Z.Window,{name:"signup",children:(0,l.jsx)(N,{name:"Sign up"})}),(0,l.jsx)(h.Z.Window,{name:"share",children:(0,l.jsx)(x.Z,{})})]})})})}},47960:function(){}},function(e){e.O(0,[52,582,420,115,712,465,400,82,158,275,555,729,971,117,744],function(){return e(e.s=11543)}),_N_E=e.O()}]);