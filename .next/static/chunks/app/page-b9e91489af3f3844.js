(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7069:function(e,r,n){Promise.resolve().then(n.bind(n,68184)),Promise.resolve().then(n.bind(n,28927)),Promise.resolve().then(n.bind(n,35248))},35248:function(e,r,n){"use strict";n.d(r,{default:function(){return a}});var t=n(57437),i=n(2265),l=n(36766),o=n(38706),s=n(28927);let u=(e,r,n,t)=>{let l=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let i=new IntersectionObserver(i=>{i[0].isIntersecting&&!n&&r&&!t&&e()},{root:null,rootMargin:"240px",threshold:.1});return l.current&&i.observe(l.current),()=>i.disconnect()},[r,t,n,e]),{ref:l}};var a=e=>{let{nextCursor:r,fnArgs:n,queryFn:a,queryKey:d,favorites:c}=e,v=(0,o.T)("Errors"),{data:f,isFetchingNextPage:h,hasNextPage:m,status:g,fetchNextPage:x}=(0,l.N)({queryFn:e=>{let{pageParam:t=r}=e;return a({...n,cursor:t})},queryKey:d,getNextPageParam:e=>null==e?void 0:e.nextCursor}),{ref:p}=u(x,m,"loading"===g||h,"error"===g);return(0,t.jsxs)(t.Fragment,{children:[null==f?void 0:f.pages.map((e,r)=>{var n;return(0,t.jsx)(i.Fragment,{children:null==e?void 0:null===(n=e.listings)||void 0===n?void 0:n.map(e=>{var r;let n=c.includes(e.id);return(0,t.jsx)(s.default,{data:e,hasFavorited:n,reservation:null==e?void 0:e.reservation},(null==e?void 0:null===(r=e.reservation)||void 0===r?void 0:r.id)||e.id)})},r)}),("loading"===g||h)&&(0,t.jsx)(t.Fragment,{children:Array.from({length:4}).map((e,r)=>(0,t.jsx)(s.T,{},r))}),"error"===g&&(0,t.jsx)("p",{className:"text-xl mt-8 text-center font-semibold",children:v("somethingWentWrong")}),(0,t.jsx)("div",{ref:p})]})}}},function(e){e.O(0,[582,420,115,712,465,400,447,158,275,616,766,729,324,971,117,744],function(){return e(e.s=7069)}),_N_E=e.O()}]);