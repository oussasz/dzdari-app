(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{10762:function(e,n,t){Promise.resolve().then(t.t.bind(t,47960,23)),Promise.resolve().then(t.bind(t,69479)),Promise.resolve().then(t.bind(t,2339)),Promise.resolve().then(t.bind(t,28752)),Promise.resolve().then(t.bind(t,14888)),Promise.resolve().then(t.bind(t,98087)),Promise.resolve().then(t.bind(t,47239)),Promise.resolve().then(t.bind(t,79441)),Promise.resolve().then(t.t.bind(t,65878,23)),Promise.resolve().then(t.t.bind(t,72972,23)),Promise.resolve().then(t.t.bind(t,88003,23)),Promise.resolve().then(t.t.bind(t,92119,23))},48520:function(e,n,t){"use strict";var s=t(57437);t(2265);var r=t(33145);n.Z=e=>{let{src:n}=e;return(0,s.jsx)(r.default,{className:"rounded-full select-none",height:"28",width:"28",alt:"Avatar",src:n||"/images/placeholder.jpg",unoptimized:!0})}},28752:function(e,n,t){"use strict";var s=t(57437);t(2265);var r=t(53160),i=t(39693),l=t(69064),o=t(80605);let a=new r.S({defaultOptions:{queries:{staleTime:6e4}}});n.default=e=>{let{children:n}=e;return(0,s.jsx)(i.aH,{client:a,children:(0,s.jsxs)(o.SessionProvider,{children:[(0,s.jsx)(l.x7,{position:"bottom-right"}),n]})})}},69479:function(e,n,t){"use strict";t.d(n,{default:function(){return r}});var s=t(2265);function r(){return(0,s.useEffect)(()=>{let e=document.getElementById("site-header");if(!e)return;let n=()=>{let n=e.getBoundingClientRect().height;document.documentElement.style.setProperty("--site-header-height","".concat(n,"px"))};n();let t=new ResizeObserver(()=>{n()});return t.observe(e),window.addEventListener("resize",n),window.addEventListener("orientationchange",n),()=>{t.disconnect(),window.removeEventListener("resize",n),window.removeEventListener("orientationchange",n)}},[]),null}},2339:function(e,n,t){"use strict";t.d(n,{default:function(){return k}});var s=t(57437),r=t(2265),i=t(48053),l=t(99376),o=t(80605),a=t(69234),c=t(38706),d=t(48520),u=t(78076),m=e=>{let{label:n,onClick:t}=e;return(0,s.jsx)(u.Z.Button,{className:" hover:bg-neutral-100 transition font-semibold select-none",onClick:t,children:n})},x=t(12685),h=t(71151),g=t(83871),p=t(29501),b=t(69064),f=t(25125),j=t(73352),v=t(64392),w=t(57212);t(83079);var N=(0,t(12119).$)("d43d4493005236cb5219abd8b6f97fe8c9759f39"),y=e=>{let{name:n,onCloseModal:t}=e,i=(0,c.T)("Auth"),a=(0,c.T)("Menu"),[d,u]=(0,r.useTransition)(),[m,x]=(0,r.useState)("Sign up"===n?"signup":"login"),{register:y,handleSubmit:Z,watch:k,formState:{errors:T},reset:P,setError:C,setFocus:E}=(0,p.cI)({defaultValues:{email:"",password:"",name:""}}),_=(0,l.useRouter)(),S="login"===m,I=a(S?"logIn":"signUp");return(0,r.useEffect)(()=>{let e=setTimeout(()=>{S?E("email"):E("name")},300);return()=>clearTimeout(e)},[S,E]),(0,s.jsxs)("div",{className:"h-full w-full",children:[(0,s.jsx)(h.Z.WindowHeader,{title:I}),(0,s.jsxs)("form",{className:"flex flex-col gap-5 p-6 pb-0 w-full h-full",onSubmit:Z(e=>{let{email:n,password:s,name:r}=e;u(async()=>{try{if(S){let e=await (0,o.signIn)("credentials",{email:n,password:s,redirect:!1});if(null==e?void 0:e.error)throw Error(e.error);(null==e?void 0:e.ok)&&(b.ZP.success(i("loggedIn")),null==t||t(),_.refresh())}else await N({email:n,password:s,name:r}),x("login"),b.ZP.success(i("registered")),P()}catch(e){b.ZP.error(e.message),S&&(P(),C("email",{}),C("password",{}),setTimeout(()=>{E("email")},100))}})}),children:[(0,s.jsx)(f.Z,{title:S?i("welcomeBack"):i("welcomeTo"),subtitle:S?i("loginToAccount"):i("createAccount")}),!S&&(0,s.jsx)(j.Z,{id:"name",label:i("name"),disabled:d,register:y,errors:T,required:!0,watch:k}),(0,s.jsx)(j.Z,{id:"email",label:i("email"),disabled:d,register:y,errors:T,required:!0,watch:k}),(0,s.jsx)(j.Z,{id:"password",label:i("password"),type:"password",disabled:d,register:y,errors:T,required:!0,watch:k}),(0,s.jsx)(v.Z,{type:"submit",className:"flex items-center justify-center h-[42px]",children:d?(0,s.jsx)(w.Z,{className:"w-5 h-5"}):i("continue")})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-4 mt-3 p-6 pt-0",children:[(0,s.jsx)("hr",{}),(0,s.jsxs)(v.Z,{outline:!0,onClick:()=>(0,o.signIn)("google"),className:"flex flex-row justify-center gap-2 items-center px-3 py-2",children:[(0,s.jsx)(g.JM8,{className:"w-6 h-6"}),(0,s.jsx)("span",{className:"text-[14px]",children:i("continueWithGoogle")})]}),(0,s.jsx)("div",{className:"   text-neutral-500    text-center    mt-2    font-light   ",children:(0,s.jsxs)("div",{className:"text-[15px]",children:[(0,s.jsx)("small",{className:"text-[15px]",children:S?i("firstTime"):i("alreadyHaveAccount")}),(0,s.jsx)("button",{type:"button",onClick:()=>{x(S?"signup":"login"),P()},className:"   text-neutral-800   cursor-pointer    hover:underline   ml-1   font-medium   ",children:S?i("createAnAccount"):a("logIn")})]})})]})]})};let Z=["ar"];var k=e=>{let{user:n}=e,t=(0,l.useRouter)(),r=(0,a.bU)(),g=Z.includes(r),p=(0,c.T)("Menu"),b=(0,c.T)("Navbar"),f=(0,c.T)("Language"),j=e=>{t.push(e)},v=async e=>{e!==r&&(await fetch("/api/locale",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({locale:e})}),t.refresh())};return(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("div",{className:"flex flex-row items-center gap-3",children:(0,s.jsxs)(h.Z,{children:[(0,s.jsx)(h.Z.Trigger,{name:n?"share":"login",children:(0,s.jsx)("button",{type:"button",className:"hidden md:block text-sm font-bold py-3 px-4 rounded-full hover:bg-neutral-100 transition cursor-pointer text-[#585858]",children:b("shareHome")})}),(0,s.jsxs)(u.Z,{children:[(0,s.jsx)(u.Z.Toggle,{id:"user-menu",children:(0,s.jsxs)("button",{type:"button",className:" p-4 md:py-1 md:px-2 border-[1px]   border-neutral-200  flex  flex-row  items-center   gap-3   rounded-full   cursor-pointer   hover:shadow-md   transition duration-300",children:[(0,s.jsx)(i.qTj,{}),(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsx)(d.Z,{src:null==n?void 0:n.image})})]})}),(0,s.jsx)(u.Z.List,{position:g?"bottom-left":"bottom-right",className:"shadow-[0_0_36px_4px_rgba(0,0,0,0.075)] rounded-xl bg-white text-sm",children:n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m,{label:p("myTrips"),onClick:()=>j("/trips")}),(0,s.jsx)(m,{label:p("myFavorites"),onClick:()=>j("/favorites")}),(0,s.jsx)(m,{label:p("myReservations"),onClick:()=>j("/reservations")}),(0,s.jsx)(m,{label:p("myProperties"),onClick:()=>j("/properties")}),(0,s.jsx)(h.Z.Trigger,{name:"share",children:(0,s.jsx)(m,{label:b("shareHome")})}),(0,s.jsx)("hr",{}),(0,s.jsx)(m,{label:p("logOut"),onClick:o.signOut}),(0,s.jsx)("hr",{}),(0,s.jsx)("div",{className:"px-4 py-2 text-[11px] font-semibold text-neutral-500",children:f("label")}),(0,s.jsx)(m,{label:"".concat("en"===r?"✓ ":"").concat(f("english")),onClick:()=>v("en")}),(0,s.jsx)(m,{label:"".concat("fr"===r?"✓ ":"").concat(f("french")),onClick:()=>v("fr")}),(0,s.jsx)(m,{label:"".concat("ar"===r?"✓ ":"").concat(f("arabic")),onClick:()=>v("ar")})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.Z.Trigger,{name:"login",children:(0,s.jsx)(m,{label:p("logIn")})}),(0,s.jsx)(h.Z.Trigger,{name:"signup",children:(0,s.jsx)(m,{label:p("signUp")})}),(0,s.jsx)("hr",{}),(0,s.jsx)("div",{className:"px-4 py-2 text-[11px] font-semibold text-neutral-500",children:f("label")}),(0,s.jsx)(m,{label:"".concat("en"===r?"✓ ":"").concat(f("english")),onClick:()=>v("en")}),(0,s.jsx)(m,{label:"".concat("fr"===r?"✓ ":"").concat(f("french")),onClick:()=>v("fr")}),(0,s.jsx)(m,{label:"".concat("ar"===r?"✓ ":"").concat(f("arabic")),onClick:()=>v("ar")})]})})]}),(0,s.jsx)(h.Z.Window,{name:"login",children:(0,s.jsx)(y,{name:"Login"})}),(0,s.jsx)(h.Z.Window,{name:"signup",children:(0,s.jsx)(y,{name:"Sign up"})}),(0,s.jsx)(h.Z.Window,{name:"share",children:(0,s.jsx)(x.Z,{})})]})})})}},47960:function(){}},function(e){e.O(0,[719,582,420,115,712,465,400,82,462,275,558,384,971,117,744],function(){return e(e.s=10762)}),_N_E=e.O()}]);