"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[282],{86588:function(e,t,n){n.d(t,{default:function(){return o}});var i=n(57437);n(2265);var r=n(77763),s=n(99376);let l=()=>{let e=(0,s.useRouter)();return()=>e.back()};var a=n(38706),o=()=>{let e=(0,a.T)("Common"),t=l();return(0,i.jsxs)("button",{type:"button",className:"flex flex-row gap-2 items-center text-[15px] font-semibold py-2 px-4 rounded-full hover:bg-neutral-100 transition cursor-pointer text-[#585858]",onClick:t,children:[(0,i.jsx)(r.dWm,{size:18}),(0,i.jsx)("span",{children:e("back")})]})}},64392:function(e,t,n){var i=n(57437);n(2265);var r=n(20698);t.Z=e=>{let{children:t,className:n,size:s="small",outline:l=!1,...a}=e;return(0,i.jsx)("button",{className:(0,r.cn)("disabled:opacity-70 disabled:cursor-not-allowed rounded hover:opacity-80 transition w-full bg-rose-500 border-rose-500 text-white py-[8px] ","small"===s?" text-[16px] font-medium border-[1px]":" text-[18px] font-semibold border-2",l?"bg-white border-[1px] border-gray-500 text-[#4e4e4e]":"bg-rose-500 border-rose-500 text-white",n),...a,children:t})}},68184:function(e,t,n){var i=n(57437);n(2265);var r=n(25125),s=n(27648),l=n(38706);t.default=e=>{let{title:t,subtitle:n,showReset:a}=e,o=(0,l.T)("Empty"),c=null!=t?t:o("noExactMatches"),d=null!=n?n:o("tryChangeFilters");return(0,i.jsxs)("div",{className:" h-[60vh] flex flex-col gap-2 justify-center items-center",children:[(0,i.jsx)(r.Z,{center:!0,title:c,subtitle:d}),(0,i.jsx)("div",{className:"w-48 mt-4",children:a&&(0,i.jsx)(s.default,{href:"/",className:"bg-white border-[1px] border-gray-500 text-[#4e4e4e] rounded hover:opacity-80 transition ",children:o("removeAllFilters")})})]})}},25125:function(e,t,n){var i=n(57437);n(2265);var r=n(86588);t.Z=e=>{let{title:t,subtitle:n,center:s,backBtn:l=!1}=e;return(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:s?"text-center":"text-start",children:[(0,i.jsx)("h3",{className:"text-2xl font-bold leading-[1.25]",children:t}),(0,i.jsx)("p",{className:"font-light text-neutral-500 md:mt-1 mt-2",children:n})]}),l?(0,i.jsx)(r.default,{}):null]})}},31451:function(e,t,n){n.d(t,{default:function(){return p}});var i=n(57437),r=n(2265),s=n(48053),l=n(69064),a=n(52884),o=n(14123),c=n.n(o),d=n(80605),u=n(20698);n(83079);var f=n(12119);(0,f.$)("001837c49f82a4a4d75b3dc0964dc6c76e2d2b77"),(0,f.$)("c1a53f0f37ee773167b45a3bf6a61b76eb07c326");var x=(0,f.$)("ab224d6a6aaea9fdd9ddb9b9a8c9dad0cd2e02f8"),p=e=>{let{listingId:t,hasFavorited:n}=e,{status:o}=(0,d.useSession)(),[f,p]=(0,r.useState)(n),m=(0,r.useRef)(n),{mutate:h}=(0,a.D)({mutationFn:x,onError:()=>{m.current=!m.current,p(m.current),l.Am.error("Failed to favorite")}}),b=c()(()=>{h({listingId:t,favorite:m.current})},300),v=(0,r.useCallback)(()=>{b()},[]);return(0,i.jsxs)("button",{type:"button",onClick:e=>{if(e.stopPropagation(),e.preventDefault(),"authenticated"!==o){l.Am.error("Please sign in to favorite the listing!");return}v(),p(e=>!e),m.current=!m.current},className:" relative hover:opacity-80 transition cursor-pointer z-[5] ",children:[(0,i.jsx)(s.lo,{size:28,className:"   text-gray-50   absolute   -top-[2px]   -right-[2px]   "}),(0,i.jsx)(s.M_L,{size:24,className:(0,u.cn)(f?"fill-rose-500":"fill-neutral-500/70")})]})}},23610:function(e,t,n){var i=n(57437),r=n(2265),s=n(33145),l=n(20698);t.default=e=>{let{imageSrc:t,fill:n=!1,alt:a,className:o,priority:c=!1,effect:d,sizes:u}=e,[f,x]=(0,r.useState)(!1);return(0,i.jsx)(s.default,{fill:n,className:(0,l.cn)("transition duration-300","zoom"===d&&"scale-95",f?"opacity-100 scale-100":"opacity-0",o),src:t,alt:a,onLoad:()=>x(!0),priority:c,sizes:u,unoptimized:!0})}},19899:function(e,t,n){n.d(t,{T:function(){return z},default:function(){return S}});var i=n(57437),r=n(2265),s=n(27648),l=n(66009),a=n(41208),o=n(69234),c=n(38706),d=n(31451),u=n(23610),f=n(20698),x=n(32970),p=n(99376),m=n(52884),h=n(69064),b=n(78076),v=n(71151),g=n(97230),y=n(64392),j=n(57212),w=e=>{let{title:t,onConfirm:n,onCloseModal:r,isLoading:s=!1}=e;return(0,i.jsxs)("div",{className:" flex flex-col gap-3 px-6 py-8 relative",children:[(0,i.jsx)("button",{type:"button",className:" p-1 border-0  hover:opacity-70 transition absolute right-3 top-3",onClick:()=>null==r?void 0:r(),children:(0,i.jsx)(g.QAE,{size:20})}),(0,i.jsx)("h1",{className:"text-[22px] font-bold text-gray-800",children:t}),(0,i.jsx)("p",{className:"text-gray-700  text-[16px] leading-[1.6] mb-4",children:"Are you sure you want to do this? It can't be undone."}),(0,i.jsxs)("div",{className:"flex items-center gap-3 mt-1 h-[40px]",children:[(0,i.jsx)(y.Z,{onClick:()=>null==r?void 0:r(),className:"h-full",outline:!0,children:"Cancel"}),(0,i.jsx)(y.Z,{onClick:()=>{n(r)},className:"h-full flex items-center justify-center",children:s?(0,i.jsx)(j.Z,{}):(0,i.jsx)("span",{children:" Confirm"})})]})]})};n(83079);var N=n(12119),k=(0,N.$)("db16f98a7dd509dc43fd9fb70035dab959baf639");(0,N.$)("cac5bff2370d361859fcb45ded3a18f9feb290ff"),(0,N.$)("578785c17f7947cb2d65472cb4242c57c8621203"),(0,N.$)("1106a624fc89780734d43596a1878891b0872f57"),(0,N.$)("84b639be183e082fba4d06c9dff2f39883927b92");var C=(0,N.$)("2ad9c02f7138be20aaff203fa989dbdd2c65d88f");let E={"/properties":"Delete property","/trips":"Cancel reservation","/reservations":"Cancel guest reservation"};var P=e=>{let{id:t}=e,n=(0,p.usePathname)(),{mutate:s}=(0,m.D)({mutationFn:k}),{mutate:l}=(0,m.D)({mutationFn:C}),[a,o]=(0,r.useTransition)();return"/"===n||"/favorites"===n?null:(0,i.jsxs)(v.Z,{children:[(0,i.jsxs)(b.Z,{children:[(0,i.jsx)(b.Z.Toggle,{id:"lisiting-menu",className:"w-10 h-10 flex items-center z-5 justify-center",children:(0,i.jsx)("button",{type:"button",className:"w-7 h-7 rounded-full bg-neutral-700/50 flex items-center justify-center hover:bg-neutral-700/70 group transition duration-200 z-[5]",children:(0,i.jsx)(x.evw,{className:"h-[18px] w-[18px] text-gray-300 transition duration-100 group-hover:text-gray-100 "})})}),(0,i.jsx)(b.Z.List,{position:"bottom-left",className:"rounded-md",children:(0,i.jsx)(v.Z.Trigger,{name:"confirm-delete",children:(0,i.jsx)(b.Z.Button,{className:"text-[14px] rounded-md font-semibold py-[10px] hover:bg-neutral-100 transition",children:E[n]})})})]}),(0,i.jsx)(v.Z.Window,{name:"confirm-delete",children:(0,i.jsx)(w,{onConfirm:e=>{o(()=>{try{"/properties"===n?s(t,{onSuccess:()=>{null==e||e(),h.ZP.success("Listing successfully deleted!")}}):("/trips"===n||"/reservations"===n)&&l(t,{onSuccess:()=>{null==e||e(),h.ZP.success("Reservation successfully cancelled!")}})}catch(t){h.ZP.error("Oops! Something went wrong. Please try again later."),null==e||e()}})},title:E[n],isLoading:a})})]})},Z=n(21099),S=e=>{let t,{data:n,reservation:r,hasFavorited:a}=e,x=(0,o.bU)(),p=(0,c.T)("Listing"),m=(0,c.T)("PurposeOptions"),h=r?r.totalPrice:null==n?void 0:n.price;if(r){let e=new Date(r.startDate),n=new Date(r.endDate);t="".concat((0,l.WU)(e,"PP")," - ").concat((0,l.WU)(n,"PP"))}let b=(()=>{let e=Z.KP.find(e=>e.label===n.category);return e?m("".concat(e.id,".label")):n.category})();return(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsxs)("div",{className:"absolute top-0 left-0 p-3 flex items-center justify-between w-full",children:[(0,i.jsx)("div",{className:"z-5",children:(0,i.jsx)(P,{id:(null==r?void 0:r.id)||n.id})}),(0,i.jsx)("div",{className:"w-[28px] h-[28px] flex items-center justify-center",children:(0,i.jsx)(d.default,{listingId:n.id,hasFavorited:a},n.id)})]}),(0,i.jsx)(s.default,{href:"/listings/".concat(n.id),className:"col-span-1 cursor-pointer",children:(0,i.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,i.jsx)("div",{className:" overflow-hidden md:rounded-xl rounded-md",children:(0,i.jsx)("div",{className:"aspect-[1/0.95] relative bg-gray-100",children:(0,i.jsx)(u.default,{imageSrc:n.imageSrc,fill:!0,alt:n.title,effect:"zoom",className:"object-cover",sizes:"100vw"})})}),(0,i.jsxs)("span",{className:"font-semibold text-[16px] mt-[4px]",children:[null==n?void 0:n.region,", ",null==n?void 0:n.country]}),(0,i.jsx)("span",{className:"font-light text-neutral-500 text-sm",children:t||b}),(0,i.jsxs)("div",{className:"flex flex-row items-baseline gap-1",children:[(0,i.jsxs)("span",{className:"font-bold text-[#444] text-[14px]",children:["$ ",(0,f.T)(h,x)]}),!r&&(0,i.jsx)("span",{className:"font-light",children:p("night")})]})]})})]})};let z=()=>(0,i.jsx)("div",{className:"col-span-1 ",children:(0,i.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,i.jsx)(a.Z,{width:"100%",height:"100%",borderRadius:"12px",className:"aspect-square"}),(0,i.jsxs)("div",{className:"flex flex-row gap-3",children:[(0,i.jsx)(a.Z,{height:"18px",width:"84px"}),(0,i.jsx)(a.Z,{height:"18px",width:"84px"})]}),(0,i.jsx)(a.Z,{height:"16px",width:"102px"}),(0,i.jsx)(a.Z,{height:"18px",width:"132px"})]})})},57212:function(e,t,n){var i=n(57437),r=n(26615);n(2265),t.Z=e=>{let{className:t}=e;return(0,i.jsx)(r.sOR,{className:"w-5 h-5 animate-spin ".concat(t)})}},78076:function(e,t,n){var i=n(57437),r=n(2265),s=n(5095),l=n(60429),a=n(78394),o=n(56579),c=n(20698),d=n(72772);let u=(0,r.createContext)({openId:"",setOpenId:e=>{},close:()=>{}}),f=e=>{let{children:t}=e,[n,s]=(0,r.useState)("");return(0,i.jsx)(u.Provider,{value:{openId:n,setOpenId:s,close:()=>s("")},children:(0,i.jsx)("div",{className:"flex items-center justify-end relative rounded-md",children:t})})};f.Toggle=e=>{let{children:t,id:n,className:s}=e,{setOpenId:l,close:a,openId:o}=(0,r.useContext)(u);return(0,i.jsx)(i.Fragment,{children:(0,r.cloneElement)(t,{onClick:e=>{e.preventDefault(),e.stopPropagation(),""===o||o!==n?l(n):a()}})})},f.Button=e=>{let{children:t,onClick:n,className:s}=e,{close:l}=(0,r.useContext)(u);return(0,i.jsx)("li",{className:"w-full",children:(0,i.jsx)("button",{onClick:e=>{e.stopPropagation(),e.preventDefault(),l(),null==n||n(e)},type:"button",className:(0,c.cn)("text-left px-4 py-3 w-full",s),children:t})})},f.List=e=>{let{children:t,className:n,position:f="bottom-right"}=e,{openId:x,close:p}=(0,r.useContext)(u),{ref:m}=(0,a.O)({action:p,listenCapturing:!1,enable:!!x});return(0,d.K)({key:"Escape",action:p,enable:!!x}),(0,i.jsx)(s.M,{children:x?(0,i.jsx)(l.E.ul,{ref:m,variants:(0,o.kr)(.85,.175),initial:"hidden",animate:"show",exit:"hidden",style:{originY:0},className:(0,c.cn)("absolute top-[110%]  w-max min-w-[170px] bg-white rounded-sm z-[9999] text-[12px] overflow-hidden ",n,"bottom-left"===f?"left-0":"right-0"),children:t}):null})},t.Z=f},71151:function(e,t,n){n.d(t,{Z:function(){return m}});var i=n(57437),r=n(2265),s=n(5095),l=n(60429),a=n(97230),o=n(54887),c=n(78394);let d=()=>{let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{t(!0)},[]),e};var u=n(72772),f=n(56579);let x=(0,r.createContext)({open:e=>{},close:()=>{},openName:""}),p=e=>{let{children:t}=e,[n,s]=(0,r.useState)(""),l=(0,r.useCallback)(()=>{s("")},[]);return(0,i.jsx)(x.Provider,{value:{open:s,close:l,openName:n},children:t})};p.Trigger=e=>{let{children:t,name:n}=e,{open:i}=(0,r.useContext)(x);return(0,r.cloneElement)(t,{onClick:e=>{i(n)}})},p.Window=e=>{let{children:t,name:n}=e,{openName:a,close:p}=(0,r.useContext)(x),m=a===n,{ref:h}=(0,c.O)({action:p,enable:m});(0,u.K)({key:"Escape",action:p,enable:m});let b=d();return((0,r.useEffect)(()=>{if(!b)return;let e=document.body,t=document.documentElement;if(m){let n=t.scrollTop;e.style.top="-".concat(n,"px"),e.classList.add("no-scroll")}else{let n=-1*parseFloat(e.style.top);e.classList.remove("no-scroll"),n&&(t.scrollTop=n,e.style.top="")}},[b,m]),b)?(0,o.createPortal)((0,i.jsx)(s.M,{children:m?(0,i.jsx)(l.E.div,{variants:f.Ji,animate:"show",initial:"hidden",exit:"hidden",className:"justify-center items-center flex w-full h-full overflow-hidden  fixed inset-0 z-50 outline-none focus:outline-none bg-neutral-800/70",children:(0,i.jsx)("div",{className:"relative ",children:(0,i.jsx)(l.E.div,{variants:(0,f.Ym)("up","tween",.3),initial:"hidden",animate:"show",exit:"hidden",className:"md:h-auto h-screen md:max-h-screen overflow-y-auto rounded-lg shadow-lg w-screen bg-white md:w-[420px]",ref:h,children:(0,r.cloneElement)(t,{onCloseModal:p})})})}):null}),document.body):null},p.WindowHeader=e=>{let{title:t}=e,{close:n}=(0,r.useContext)(x);return(0,i.jsxs)("header",{className:" flex items-center  px-6 py-3  rounded-t justify-center relative border-b-[1px]",children:[(0,i.jsx)("button",{type:"button",className:" p-1 border-0  hover:opacity-70 transition absolute left-6",onClick:n,children:(0,i.jsx)(a.QAE,{size:18})}),(0,i.jsx)("h4",{className:"text-[18px] font-semibold",children:t})]})};var m=p},72772:function(e,t,n){n.d(t,{K:function(){return r}});var i=n(2265);let r=e=>{let{key:t,action:n,enable:r=!0}=e;(0,i.useEffect)(()=>{let e=e=>{e.key===t&&n(e)};return r?window.addEventListener("keydown",e):window.removeEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n,t,r])}},78394:function(e,t,n){n.d(t,{O:function(){return r}});var i=n(2265);let r=e=>{let{action:t,listenCapturing:n=!0,enable:r=!0}=e,s=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let e=e=>{s.current&&!s.current.contains(e.target)&&t(e)};return r?document.addEventListener("click",e,n):document.removeEventListener("click",e,n),()=>document.removeEventListener("click",e,n)},[t,n,r]),{ref:s}}},21099:function(e,t,n){n.d(t,{KP:function(){return l},W$:function(){return a},z3:function(){return s}});var i=n(77763),r=n(5674);let s=[{id:"byNight",label:"By Night",icon:i.Paj,description:"Short stay - rent by the night"},{id:"perWeek",label:"Per Week",icon:i.f$3,description:"Weekly rental - 7 days minimum"},{id:"perMonth",label:"Per Month",icon:i.sHf,description:"Monthly rental - medium term stay"},{id:"longTerm",label:"Long Term",icon:i.dKE,description:"Long duration rental (+3 months)"}],l=[{id:"tourism",label:"Tourism",icon:i.Yfi,description:"Perfect for tourists and travelers"},{id:"business",label:"Business",icon:i.KfF,description:"Ideal for business travelers"},{id:"families",label:"Families",icon:i.Nzl,description:"Family-friendly accommodation"},{id:"students",label:"Students",icon:i.eAf,description:"Suitable for students"},{id:"couples",label:"Couples",icon:i.Yqy,description:"Romantic getaway for couples"},{id:"events",label:"Events",icon:i.jsv,description:"For occasions: photo shoots, engagements, birthdays..."}],a=[{id:"nearBeach",label:"Near Beach",icon:i.I4E,description:"Close to the sea"},{id:"countryside",label:"Countryside",icon:i.rhR,description:"Rural country house"},{id:"nearAirport",label:"Near Airport",icon:i.vc9,description:"Close to the airport"},{id:"nearUniversity",label:"Near University",icon:r.Q7H,description:"Close to university"},{id:"downtown",label:"Downtown",icon:i.Ys1,description:"City center location"},{id:"parking",label:"Parking",icon:i.IB_,description:"Parking available"},{id:"fastWifi",label:"Fast WiFi",icon:i.bVG,description:"Strong WiFi connection"},{id:"airConditioning",label:"Air Conditioning",icon:i.yEz,description:"Air conditioning available"},{id:"smokingAllowed",label:"Smoking Allowed",icon:i.XG1,description:"Smoking is permitted"},{id:"noSmoking",label:"No Smoking",icon:i.eVG,description:"Smoke-free property"},{id:"petsAllowed",label:"Pets Allowed",icon:i.WKE,description:"Pet-friendly property"},{id:"security",label:"Security",icon:i.h9I,description:"Security cameras / guarded"},{id:"accessible",label:"Accessible",icon:i.fC4,description:"Suitable for people with disabilities"}]},20698:function(e,t,n){n.d(t,{T:function(){return s},cn:function(){return l}});var i=n(61994),r=n(53335);let s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return new Intl.NumberFormat(t).format(e)};function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.m6)((0,i.W)(t))}},56579:function(e,t,n){n.d(t,{Ji:function(){return r},Ym:function(){return s},kr:function(){return i}});let i=(e,t)=>({hidden:{opacity:0,scale:e,transition:{duration:t,ease:"easeOut"}},show:{opacity:1,scale:1,transition:{duration:t,ease:"easeOut"}}}),r={hidden:{opacity:0,transition:{duration:.15,type:"tween",ease:"easeIn"}},show:{opacity:1,transition:{duration:.15,type:"tween",ease:"easeIn"}}},s=(e,t,n)=>({hidden:{x:"left"===e?"-100%":"right"===e?"100%":0,y:"up"===e?"100%":"down"===e?"-100%":0,opacity:0,transition:{duration:n,type:t,ease:"easeOut"}},show:{x:0,y:0,opacity:1,transition:{type:t,duration:n,ease:"easeInOut"}}})}}]);